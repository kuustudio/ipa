(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e2a4b64"],{"0ec9":function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"box"},[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{staticClass:"bg-line"},[a._v("发布内测应用")]),a._v(" "),t("div",{staticClass:"smline red"},[a._v("严禁上传色情、反动、非法博彩类APP，违反该规则的 App 将被删除，屡次上传者将被封禁账号, 并上报给有关部门！")]),a._v(" "),t("br"),a._v(" "),t("el-upload",{staticClass:"upload-ws",attrs:{drag:"",action:a.uploadUrl,"on-progress":a.onuploadprogress,"on-success":a.onpuloadsuccess,"before-upload":a.upbefore,data:a.admoredata,multiple:""}},[t("i",{staticClass:"el-icon-upload avatar-uploader-icon"}),a._v(" "),t("div",{staticClass:"el-upload__text"},[a._v("\n                            将文件拖到此处，或\n                            "),t("em",[a._v("点击上传")]),a._v(" "),t("br"),a._v(" "),t("div",{staticClass:"uploadtxt"},[a._v("\n                                您所在会员组剩余可上传 500 MB，超过此额度的应用将上传失败\n支持.ipa或.apk文件，不支持IE与safari浏览器）\n                            ")])])])],1)])],1),a._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"grid-content bg-purple grid-bg"},[t("div",{staticClass:"title"},[a._v("已上传文件")]),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.ipapackage}},[t("el-table-column",{attrs:{prop:"name",label:"文件",width:"280"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v(a._s(e.row.name))]}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"size",label:"大小",width:"180"}}),a._v(" "),t("el-table-column",{attrs:{prop:"jindu",label:"上传进度"}})],1)],1)])],1)],1)},i=[],n=(t("7f7f"),t("4ec3")),o=t("6821f"),r=t.n(o),l=(t("3e8f"),{data:function(){return{loading:!1,currentpage:1,userInfo:{},ipapackage:[],total:0,uploadUrl:"/api/user/upload",admoredata:{}}},mounted:function(){},methods:{handleSizeChange:function(a){},handleCurrentChange:function(a){},upbefore:function(a){console.log(a);var e=".ipa"==a.name.substr(a.name.lastIndexOf(".")),t=a.size/1024/1024<500,s=0!=a.size;e||this.$message.error("请上传ipa包"),s||this.$message.error("请上传有效文件!"),t||this.$message.error("上传ipa包大小不能超过 500MB!");var i=(new Date).getTime();return this.admoredata.time=i,this.admoredata.from=2,this.admoredata.sig=r()("sc%7*g"+i+"@!$%"),t&&s&&e},onpuloadsuccess:function(a,e,t){var s=this;this.$message.success("上传成功！");var i=e.size/1024/1024,o=i.toFixed(2);this.ipapackage.push({name:e.name,size:o+"  M",jindu:"上传成功,解压中..."}),this.loading=!0,Object(n["m"])({ipa_url:a.data.file,type:this.$route.query.type}).then((function(a){s.loading=!1,s.$router.push({name:"ipacreate",params:{id:a.data.id,type:s.$route.query.type}})}))},onuploadprogress:function(a,e,t){}}}),u=l,d=(t("fea7"),t("2877")),p=Object(d["a"])(u,s,i,!1,null,"91e16302",null);e["default"]=p.exports},2484:function(a,e,t){},"3e8f":function(a,e){},fea7:function(a,e,t){"use strict";var s=t("2484"),i=t.n(s);i.a}}]);