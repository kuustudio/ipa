(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dae761a"],{"314c":function(t,e,a){},6090:function(t,e,a){"use strict";var i=a("314c"),o=a.n(i);o.a},e1dc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple grid-bg"},[a("div",{staticClass:"body"},[a("div",{staticClass:"title"},[t._v(t._s(t.appinfo.name))]),t._v(" "),a("el-form",{staticClass:"formbox",attrs:{"label-position":"left","label-width":"80px",model:t.appinfo}},[a("el-form-item",{attrs:{"label-width":t.lbwidth,label:"App Icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.fupload,"show-file-list":!1,multiple:!1,accept:"image/*","on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.appinfo.icon?a("img",{staticClass:"avatar",attrs:{src:t.appinfo.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{staticClass:"nmline smline",attrs:{"label-width":t.lbwidth,label:"名称"}},[a("el-input",{model:{value:t.appinfo.name,callback:function(e){t.$set(t.appinfo,"name",e)},expression:"appinfo.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"nmline",attrs:{"label-width":t.lbwidth,label:"应用页面地址"}},[a("el-input",{attrs:{disabled:""},model:{value:t.appinfo.download_url,callback:function(e){t.$set(t.appinfo,"download_url",e)},expression:"appinfo.download_url"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.lbwidth,label:"版本更新说明"}},[a("el-input",{attrs:{type:"textarea","show-word-limit":"",autosize:{minRows:4,maxRows:8}},model:{value:t.appinfo.version_desc,callback:function(e){t.$set(t.appinfo,"version_desc",e)},expression:"appinfo.version_desc"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.lbwidth,label:"应用介绍"}},[a("el-input",{attrs:{type:"textarea","show-word-limit":"",autosize:{minRows:4,maxRows:8}},model:{value:t.appinfo.introduction,callback:function(e){t.$set(t.appinfo,"introduction",e)},expression:"appinfo.introduction"}})],1)],1),t._v(" "),a("div",{staticClass:"btnline"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:function(e){return t.qrcode(t.appinfo.download_url,t.appinfo.name)}}},[t._v("查看下载")])],1)],1)])])],1),t._v(" "),a("el-dialog",{attrs:{title:"扫码下载",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e},close:t.closeCode}},[a("div",{staticClass:"ermtit"},[t._v(t._s(t.ermname))]),t._v(" "),a("div",{ref:"qrcode",staticStyle:{width:"300px",height:"300px",margin:"10px auto"},attrs:{id:"qrcode"}})])],1)},o=[],n=(a("a481"),a("7f7f"),a("4ec3")),l=a("d044"),s=a.n(l),r={data:function(){return{lbwidth:"120px",imageUrl:"",ermname:"",centerDialogVisible:!1,appinfo:{icon:"",name:"",download_url:"",ipa_url:"",introduction:"",type:"",id:"",version_desc:""}}},mounted:function(){var t=this;this.$route.params.id?(this.appinfo.id=this.$route.params.id,this.appinfo.type=this.$route.params.type,Object(n["d"])(this.appinfo).then((function(e){t.appinfo.icon=e.data.icon,t.appinfo.name=e.data.name,t.appinfo.download_url=e.data.download_url,t.appinfo.introduction=e.data.introduction,t.appinfo.version_desc=e.data.version_desc,t.appinfo.ipa_url=e.data.ipa_url}))):(this.$message.error("请先上传ipa文件！"),this.$router.back())},methods:{fupload:function(t){var e=this;console.log(t);var a=new FormData;a.append("file",t.file),Object(n["l"])(a).then((function(t){1==t.data.status?e.appinfo.icon=t.data.data.file:e.fileList=[]}))},qrcode:function(t,e){this.centerDialogVisible=!0,this.ermname=e,setTimeout((function(){new s.a("qrcode",{width:300,height:300,text:t,colorDark:"#2D2D2D",colorLight:"#fff",correctLevel:s.a.CorrectLevel.L})}),0)},closeCode:function(){this.$refs.qrcode.innerHTML=""},submit:function(){var t=this;Object(n["m"])(this.appinfo).then((function(e){t.$message.success("修改成功！"),setTimeout((function(){t.$router.replace("/")}),1e3)}))},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){},handleSizeChange:function(t){},handleCurrentChange:function(t){}}},c=r,p=(a("6090"),a("2877")),d=Object(p["a"])(c,i,o,!1,null,"dbdb4770",null);e["default"]=d.exports}}]);